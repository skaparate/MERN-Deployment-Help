(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a(59)},53:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),c=a.n(s),o=a(27),l=a(1),i=a(10),d=a.n(i),u=a(13),m=a(29),p=a(8),w=a(11),f=a.n(w),h={questions:[{position:0,answered:!1},{position:1,answered:!1},{position:2,answered:!1},{position:3,answered:!1},{position:4,answered:!1},{position:5,answered:!1},{position:6,answered:!1},{position:7,answered:!1},{position:8,answered:!1},{position:9,answered:!1},{position:10,answered:!1},{position:11,answered:!1},{position:12,answered:!1},{position:13,answered:!1},{position:14,answered:!1},{position:15,answered:!1},{position:16,answered:!1},{position:17,answered:!1},{position:18,answered:!1},{position:19,answered:!1},{position:20,answered:!1}],teachers:[]},E=function(e,t){switch(t.type){case"ANSWER":return e.questions.forEach((function(e){e.position===t.payload.number&&(e.answered=!0)})),Object(p.a)({},e);case"GET_ALL_TEACHERS":var a=t.payload.teachersGotten;return Object(p.a)(Object(p.a)({},e),{},{teachers:a});case"PERSONAL_VOTE":return e.personalVotes.forEach((function(e){t.payload.personalTeacherWon===e.name&&(e.votesWon+=1),t.payload.personalTeacherLost===e.name&&(e.votesLost-=1)})),Object(p.a)({},e);default:return Object(p.a)({},e)}},g=Object(n.createContext)(),v=function(e){var t=Object(n.useReducer)(E,h),a=Object(m.a)(t,2),s=a[0],c=a[1],o=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("/vote",{vote:"win",teacher:a},{"Content-Type":"application/json"});case 2:return e.next=4,f.a.put("/vote",{vote:"loss",teacher:n},{"Content-Type":"application/json"});case 4:c({type:"ANSWER",payload:{number:t}});case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/get-all-teachers");case 2:t=e.sent,(a=t.data).forEach((function(e){var t=e.numberOfWins,a=t/(t+e.numberOfLosses)*100;Number.isNaN(a)&&(a=50),a=Math.round(a),e.percentageOfWins=a})),a.sort((function(e,t){return e.percentageOfWins>t.percentageOfWins?1:-1})),c({type:"GET_ALL_TEACHERS",payload:{teachersGotten:a}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(g.Provider,{value:{questions:s.questions,questionBeingAnswered:s.questionBeingAnswered,teachers:s.teachers,answer:o,getAllTeachers:l,setPersonalVote:function(e,t){c({type:"PERSONAL_VOTE",payload:{personalTeacherWon:e,personalTeacherLost:t}})}}},e.children)},b=function(){var e=Object(n.useContext)(g),t=e.getAllTeachers,a=e.teachers;Object(n.useEffect)((function(){t()}),[]);var s=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,a[e].teacher.toUpperCase()),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-value",style:{width:"".concat(a[e].percentageOfWins,"%")}}),r.a.createElement("h4",null,a[e].percentageOfWins,"%")))};return r.a.createElement("div",null,0!==a.length&&r.a.createElement("div",null,r.a.createElement("div",{id:"btn-extreme"},r.a.createElement("a",{id:"play-now-btn-extreme",href:"/mejor-profesor"},"Jugar Ahora")),r.a.createElement("div",{id:"progress-bars-classes"},r.a.createElement("div",{className:"best-classes"},r.a.createElement("h1",null,"Top 4"),s(a.length-1),s(a.length-2),s(a.length-3),s(a.length-4)),r.a.createElement("div",null,r.a.createElement("a",{id:"play-now-btn",href:"/mejor-profesor"},"Jugar Ahora")),r.a.createElement("div",{className:"best-person"},r.a.createElement("h1",null,"Peores"),s(0),s(1),s(2),s(3))),r.a.createElement("div",{id:"mobile-div-play"},r.a.createElement("a",{id:"play-now-btn-mobile",href:"/mejor-profesor"},"Jugar Ahora"))))},O=function(){return r.a.createElement("div",{id:"home-main"},r.a.createElement("div",{className:"bg"}),r.a.createElement("div",{className:"bg bg2"}),r.a.createElement("div",{className:"bg bg3"}),r.a.createElement("h1",{id:"title-website"},"Ranking de Los Agustinos"),r.a.createElement(b,null))},N=function(){var e=Object(n.useContext)(g),t=e.getAllTeachers,a=e.teachers;Object(n.useEffect)((function(){t()}),[]);var s=function(e){var t=parseInt(localStorage.getItem("".concat(e,"-wins"))),a=parseInt(localStorage.getItem("".concat(e,"-losses")));0===t&&(t=1),0===t&&(a=1);var n=t/(t+a)*100;return Number.isNaN(n)&&(n=50),n=Math.round(n)},c=[];a.forEach((function(e){c.push({name:e.teacher,percentage:s(e.teacher)})}));var o=function(e){return c.sort((function(e,t){return e.percentage>t.percentage?1:-1})),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,c[e].name.toUpperCase()),r.a.createElement("div",{className:"progress-results"},r.a.createElement("div",{className:"progress-value-results",style:{width:"".concat(c[e].percentage,"%")}}),r.a.createElement("h4",null,c[e].percentage,"%")))},l=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,a[e].teacher.toUpperCase()),r.a.createElement("div",{className:"progress-results"},r.a.createElement("div",{className:"progress-value-results",style:{width:"".concat(a[e].percentageOfWins,"%")}}),r.a.createElement("h4",null,a[e].percentageOfWins,"%")))};return r.a.createElement("div",null,r.a.createElement("h1",{id:"title-website-class-small"},"Profesor favorito: ",(c.sort((function(e,t){return e.percentage>t.percentage?1:-1})),c[c.length-1]).name),r.a.createElement("h1",{id:"title-website-class-small"},"Peor profesor: ",(c.sort((function(e,t){return e.percentage>t.percentage?1:-1})),c[0]).name),r.a.createElement("div",{id:"progress-bars-classes-results"},r.a.createElement("div",{id:"result-best-classes",className:"best-classes"},r.a.createElement("h1",{id:"title-website-results"},"Tus Resultados"),o(12),o(11),o(10),o(9),o(8),o(7),o(6),o(5),o(4),o(3),o(2),o(1),o(0)),r.a.createElement("div",{id:"result-best-classes",className:"best-person"},r.a.createElement("h1",null,"Media General"),l(12),l(11),l(10),l(9),l(8),l(7),l(6),l(5),l(4),l(3),l(2),l(1),l(0))))},y=function(){var e=Object(n.useContext)(g),t=e.questions,a=e.answer,s=e.teachers,c=e.getAllTeachers,o=["#52ACA2","#999999","#FFAB4F","#aa7d42","#f7850a","#935357","#b190a5","#fdbdb8","#93786f","#062542","#dbdcff","#ffc0cb","#8542f1","#ec631d","#f23a69","#5b358f","#924ec6","#24441e","#3a6571"],l=function(){return o[Math.floor(Math.random()*o.length)]},i=function(e){var t=u();return r.a.createElement("div",{id:"votes"},r.a.createElement("div",{style:{backgroundColor:l()},onClick:function(){m(e,t[0],t[1])},className:"option-vote"},r.a.createElement("h1",{id:"name-teacher-vote"},t[0].toUpperCase())),r.a.createElement("div",{style:{backgroundColor:l()},onClick:function(){m(e,t[1],t[0])},className:"option-vote"},r.a.createElement("h1",{id:"name-teacher-vote"},t[1].toUpperCase())))},d=function(){return s[Math.floor(Math.random()*s.length)].teacher},u=function(){for(var e,t,a=!0;a;)(e=d())!==(t=d())&&(a=!1);return[e,t]};Object(n.useEffect)((function(){c(),s.forEach((function(e){localStorage.setItem("".concat(e.teacher,"-wins"),0),localStorage.setItem("".concat(e.teacher,"-losses"),0)}))}),[]);var m=function(e,t,n){a(e,t,n);var r=parseInt(localStorage.getItem("".concat(t,"-wins")));r+=1;var s=parseInt(localStorage.getItem("".concat(n,"-losses")));s+=1,localStorage.setItem("".concat(t,"-wins"),r),localStorage.setItem("".concat(n,"-losses"),s)};return r.a.createElement("div",null,r.a.createElement("div",{className:"bg"}),r.a.createElement("div",{className:"bg bg2"}),r.a.createElement("div",{className:"bg bg3"}),r.a.createElement("h1",{id:"title-website-class"},"Mejor Profesor"),0!==s.length&&void 0!==t&&r.a.createElement(r.a.Fragment,null,!t[0].answered&&i(0),!t[1].answered&&t[0].answered&&i(1),!t[2].answered&&t[1].answered&&i(2),!t[3].answered&&t[2].answered&&i(3),!t[4].answered&&t[3].answered&&i(4),!t[5].answered&&t[4].answered&&i(5),!t[6].answered&&t[5].answered&&i(6),!t[7].answered&&t[6].answered&&i(7),!t[8].answered&&t[7].answered&&i(8),!t[9].answered&&t[8].answered&&i(9),!t[10].answered&&t[9].answered&&i(10),!t[11].answered&&t[10].answered&&i(11),!t[12].answered&&t[11].answered&&i(12),!t[13].answered&&t[12].answered&&i(13),!t[14].answered&&t[13].answered&&i(14),!t[15].answered&&t[14].answered&&i(15),!t[16].answered&&t[15].answered&&i(16),!t[17].answered&&t[16].answered&&i(17),!t[18].answered&&t[17].answered&&i(18),!t[19].answered&&t[18].answered&&i(19),!t[20].answered&&t[19].answered&&i(20),t[20].answered&&r.a.createElement(N,null),t[20].answered&&r.a.createElement("div",{id:"buttons-results-menu"},r.a.createElement("a",{id:"play-now-btn",href:"/mejor-profesor"},"Jugar Otra Vez"),r.a.createElement("a",{id:"play-now-btn",href:"/"},"Menu Principal"))))},j=(a(53),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null,r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:O}),r.a.createElement(l.a,{exact:!0,path:"/mejor-profesor",component:y})))))});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.e9e1c0fe.chunk.js.map